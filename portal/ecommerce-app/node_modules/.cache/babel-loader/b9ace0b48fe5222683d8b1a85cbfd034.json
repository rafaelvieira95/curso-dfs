{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/Admin/Company/List/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Table, Button, Container } from 'react-bootstrap';\nimport './styles.css';\nimport api from '../../../../Services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst CompanyList = () => {\n  _s();\n\n  const [companies, setCompanies] = useState([]);\n  useEffect(() => {\n    const fetchCompanies = async () => {\n      const response = await api.get('companies');\n      setCompanies(response.data);\n    };\n\n    fetchCompanies();\n  }, []);\n\n  const handleDelete = async company => {\n    const isDelete = window.confirm('Do you really want to delete this company?');\n\n    if (isDelete) {\n      const response = await api.delete(`companies/${company.id}`);\n\n      if (response.status === 200) {\n        setCompanies(companies.filter(c => c.id !== company.id));\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"table-box\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        responsive: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Fantasy Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Cnpj\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Total Products\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: companies && companies.map(company => {\n            var _company$products;\n\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: company.fantasyName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: company.cnpj\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: (_company$products = company.products) === null || _company$products === void 0 ? void 0 : _company$products.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 56,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"  \", /*#__PURE__*/_jsxDEV(Link, {\n                  to: `/company/edit/${company.id}`,\n                  children: \" edit \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 25\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => handleDelete(company),\n                  children: \" delete \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 24\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 19\n              }, this)]\n            }, company.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(CompanyList, \"fvSMykEKVRSxSgZ7G/ZC4cRqlrw=\");\n\n_c = CompanyList;\nexport default CompanyList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CompanyList\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/Admin/Company/List/index.js"],"names":["React","useState","useEffect","Link","Table","Button","Container","api","CompanyList","companies","setCompanies","fetchCompanies","response","get","data","handleDelete","company","isDelete","window","confirm","delete","id","status","filter","c","map","fantasyName","cnpj","products","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Table, Button, Container} from 'react-bootstrap';\nimport './styles.css';\n\nimport api from '../../../../Services/api';\n\nconst CompanyList = () =>{\n\n   const [companies, setCompanies] = useState([]);\n   \n    useEffect(() =>{\n       const fetchCompanies = async ()=>{\n           const response = await api.get('companies');\n           setCompanies(response.data);\n       }\n\n       fetchCompanies();\n\n    }, []);\n\n\n    const handleDelete = async (company) =>{\n         \n        const isDelete = window.confirm('Do you really want to delete this company?');\n\n        if(isDelete){\n        const response = await api.delete(`companies/${company.id}`);\n         \n         if(response.status === 200){\n              setCompanies(companies.filter(c => c.id !== company.id));\n          }\n        }\n    }\n\n\n    return (\n        <>\n        <Container className=\"table-box\">\n           <Table responsive hover>\n            <thead>\n                <tr>\n                    <th>Fantasy Name</th>\n                    <th>Cnpj</th>\n                    <th>Total Products</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                { companies && companies.map(company =>(\n                <tr key={company.id}>\n                  <td>{company.fantasyName}</td>\n                  <td>{company.cnpj}</td>\n                  <td>{company.products?.length}</td>\n                  <td>  <Link to={`/company/edit/${company.id}`}> edit </Link> </td>\n                  <td> <Button onClick={() => handleDelete(company)}> delete </Button> </td>\n                </tr>\n                ))}\n             </tbody>\n             </Table>\n           </Container>\n        </>\n    )\n}\n\n\nexport default CompanyList;"]},"metadata":{},"sourceType":"module"}