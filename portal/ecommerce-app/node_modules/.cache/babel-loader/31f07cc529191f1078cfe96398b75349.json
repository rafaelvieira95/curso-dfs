{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/UserInfo/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router';\nimport { InputGroup, FormControl, Container, Row, Col } from 'react-bootstrap';\nimport { IMaskInput } from 'react-imask';\nimport { Link } from 'react-router-dom';\nimport api from '../../Services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst UserInfo = () => {\n  _s();\n\n  const history = useHistory();\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    const fetchAuthUser = async () => {\n      try {\n        let storage = localStorage.getItem('@ecommerce:user');\n        if (storage === null) history.push('/signin');\n        let result = JSON.parse(storage);\n        const response = await api.get(`/users/${result === null || result === void 0 ? void 0 : result.user.id}`);\n        setUser(response.data);\n      } catch (err) {\n        var _err$response;\n\n        if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : _err$response.status) === 401) {\n          history.push('/signin');\n        }\n      }\n    };\n\n    fetchAuthUser();\n    return () => setUser(null);\n  }, [history]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      fluid: true,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          as: Col,\n          md: 6,\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n            children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"basic-addon1\",\n              children: \" User Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            placeholder: \"Username\",\n            \"aria-label\": \"Username\",\n            value: user === null || user === void 0 ? void 0 : user.name,\n            readonly: true,\n            \"aria-describedby\": \"basic-addon1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          as: Col,\n          md: 6,\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(InputGroup.Append, {\n            children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"basic-addon2\",\n              children: \"E-mail\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            value: user === null || user === void 0 ? void 0 : user.email,\n            readonly: true,\n            placeholder: \"Recipient's email\",\n            \"aria-label\": \"Recipient's email\",\n            \"aria-describedby\": \"basic-addon2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(InputGroup, {\n          as: Col,\n          md: 6,\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n            children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"basic-addon3\",\n              children: \"CPF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(IMaskInput, {\n            id: \"basic-url\",\n            mask: \"000.000.000-00\",\n            disabled: true,\n            value: user === null || user === void 0 ? void 0 : user.cpf,\n            \"aria-describedby\": \"basic-addon3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          md: 6,\n          children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n            to: `/user/${user === null || user === void 0 ? void 0 : user.id}`,\n            children: \" update user data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 34\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n\n_s(UserInfo, \"uoHX74PyTgz03qh3eN/gOW4LonI=\", false, function () {\n  return [useHistory];\n});\n\n_c = UserInfo;\nexport default UserInfo;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserInfo\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/UserInfo/index.js"],"names":["React","useState","useEffect","useHistory","InputGroup","FormControl","Container","Row","Col","IMaskInput","Link","api","UserInfo","history","user","setUser","fetchAuthUser","storage","localStorage","getItem","push","result","JSON","parse","response","get","id","data","err","status","name","email","cpf"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { useHistory } from 'react-router';\nimport { InputGroup, FormControl, Container, Row, Col } from 'react-bootstrap';\nimport { IMaskInput } from 'react-imask';\nimport {Link} from 'react-router-dom';\nimport api  from '../../Services/api';\n\nconst UserInfo = () => {\n\n    const history = useHistory();\n    const [user, setUser] = useState(null);\n\n    useEffect(() => {\n\n          const fetchAuthUser = async ()=>{\n\n              try{\n     \n                let storage = localStorage.getItem('@ecommerce:user');\n                if(storage === null)\n                    history.push('/signin');\n\n                let result = JSON.parse(storage);\n                const response = await api.get(`/users/${result?.user.id}`);\n                setUser(response.data);\n\n              }catch(err){\n\n                  if(err.response?.status === 401){\n                      history.push('/signin');\n                  }\n              }         \n          }\n\n          fetchAuthUser();\n        \n        return () => setUser(null);\n\n       },[history]);\n\n    return (\n        <>\n            <Container fluid>\n                <Row>   \n                <InputGroup as={Col} md={6} className=\"mb-3\">\n                    <InputGroup.Prepend>\n                        <InputGroup.Text id=\"basic-addon1\"> User Name</InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <FormControl\n                        placeholder=\"Username\"\n                        aria-label=\"Username\"\n                        value={user?.name}\n                        readonly\n                        aria-describedby=\"basic-addon1\"\n                    />\n                </InputGroup>\n                </Row>\n\n                <Row>\n                   <InputGroup as={Col} md={6} className=\"mb-3\">\n                      <InputGroup.Append>\n                         <InputGroup.Text id=\"basic-addon2\">E-mail</InputGroup.Text>\n                      </InputGroup.Append>\n\n                    <FormControl\n                        value={user?.email}\n                        readonly\n                        placeholder=\"Recipient's email\"\n                        aria-label=\"Recipient's email\"\n                        aria-describedby=\"basic-addon2\"\n                    />\n        \n                 </InputGroup>\n                </Row>\n\n                <Row>\n                <InputGroup as={Col} md={6} className=\"mb-3\">\n                    <InputGroup.Prepend>\n                        <InputGroup.Text id=\"basic-addon3\">\n                           CPF\n                        </InputGroup.Text>\n                    </InputGroup.Prepend>\n                    <IMaskInput \n                      id=\"basic-url\"\n                      mask=\"000.000.000-00\"\n                     disabled \n                     value={user?.cpf} \n                     aria-describedby=\"basic-addon3\"\n                     />\n                   \n                </InputGroup>\n                </Row>\n\n                <Row>\n                    <Col md={6}> <Link to={`/user/${user?.id}`}> update user data</Link> </Col>\n                </Row>\n             </Container>  \n        </>\n    )\n}\n\nexport default UserInfo;"]},"metadata":{},"sourceType":"module"}