{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/ProductDetails/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Image, Button } from 'react-bootstrap';\nimport { useParams } from 'react-router-dom';\nimport format from 'number-format.js';\nimport api from '../../Services/api';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductDetails = () => {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const [product, setProduct] = useState([]);\n  const [quantity, setQuantity] = useState(1);\n  const [added, setAdded] = useState(false);\n  useEffect(() => {\n    const fetchProduct = async () => {\n      const response = await api.get(`products/${id}`);\n      setProduct(response.data);\n    };\n\n    fetchProduct();\n    let storage = localStorage.getItem('@cart:user');\n\n    if (storage !== null) {\n      let cart = JSON.parse(storage);\n      const id_ = parseInt(id);\n      cart.map(item => parseInt(item.id) === id_ ? setAdded(true) : false);\n    }\n  }, [id]);\n\n  const addItemToCart = () => {\n    if (localStorage.getItem('@cart:user') === null) {\n      const products = [];\n      localStorage.setItem('@cart:user', JSON.stringify(products));\n    }\n\n    let rawCart = localStorage.getItem('@cart:user');\n    let cart = JSON.parse(rawCart);\n    if (added) return;\n    const prod = {\n      id: id,\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      observation: product.observation,\n      imageUri: product.imageUri,\n      quantity: quantity\n    };\n    cart.push(prod);\n    localStorage.setItem('@cart:user', JSON.stringify(cart));\n    setAdded(true);\n  };\n\n  const removeItemFromCart = () => {\n    if (added) {\n      let rawCart = localStorage.getItem('@cart:user');\n      let cart = JSON.parse(rawCart);\n      const id_ = parseInt(id);\n      cart = cart.filter(item => parseInt(item.id) !== id_);\n      localStorage.setItem('@cart:user', JSON.stringify(cart));\n      setAdded(false);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"view-size\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            md: 2\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 16\n          }, this), /*#__PURE__*/_jsxDEV(Image, {\n            className: \"image-zoom\",\n            as: Col,\n            src: product === null || product === void 0 ? void 0 : product.imageUri,\n            height: 250,\n            width: 400\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            xs: 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"purchase-card\",\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              children: /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\" \", product === null || product === void 0 ? void 0 : product.name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"badge badge-dark\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 38\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 5,\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [\"  (BRL) $\", format(\"#,##0.00\", product === null || product === void 0 ? void 0 : product.price)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 31\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\" \", quantity, \" x \", quantity * (product === null || product === void 0 ? void 0 : product.price)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  id: \"quantity\",\n                  className: \"badge badge-dark\",\n                  children: \" Quantity \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  for: \"quantity\",\n                  style: {\n                    width: '50%',\n                    marginLeft: 5\n                  },\n                  type: \"number\",\n                  min: \"1\",\n                  value: quantity,\n                  onChange: e => setQuantity(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: \" Parcelas \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\"10 X \", format(\"#,##0.00\", quantity * (product === null || product === void 0 ? void 0 : product.price) / 10)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              style: {\n                marginTop: 25\n              },\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\"  \", /*#__PURE__*/_jsxDEV(Button, {\n                  variant: added ? 'success' : 'primary',\n                  onClick: addItemToCart,\n                  children: [\" \", added ? 'Added to Cart' : 'Add to Cart', \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 38\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 24\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                xs: 6,\n                children: [\"  \", /*#__PURE__*/_jsxDEV(Button, {\n                  variant: !added ? 'info' : 'danger',\n                  hidden: !added,\n                  onClick: removeItemFromCart,\n                  children: \" Remove from Cart \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 38\n                }, this), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 24\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"badge badge-dark\",\n              children: \" Description \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            padding: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: product === null || product === void 0 ? void 0 : product.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"badge badge-dark\",\n              children: \" Observation \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 14\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          style: {\n            padding: 10\n          },\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            children: product === null || product === void 0 ? void 0 : product.observation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 18\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 14\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(ProductDetails, \"ph3rf9Pv1iJ/E5QgkMImkNub6Ok=\", false, function () {\n  return [useParams];\n});\n\n_c = ProductDetails;\nexport default ProductDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductDetails\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/ProductDetails/index.js"],"names":["React","useState","useEffect","Container","Row","Col","Image","Button","useParams","format","api","ProductDetails","id","product","setProduct","quantity","setQuantity","added","setAdded","fetchProduct","response","get","data","storage","localStorage","getItem","cart","JSON","parse","id_","parseInt","map","item","addItemToCart","products","setItem","stringify","rawCart","prod","name","description","price","observation","imageUri","push","removeItemFromCart","filter","width","marginLeft","e","target","value","marginTop","padding"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Container, Row, Col, Image, Button} from 'react-bootstrap';\nimport {useParams} from 'react-router-dom';\nimport format from 'number-format.js';\nimport api from '../../Services/api';\nimport './styles.css';\n\n\nconst ProductDetails = () =>{\n     \n    const {id} = useParams();\n    const [product, setProduct] = useState([]);\n    const [quantity, setQuantity] = useState(1);\n    const [added, setAdded] = useState(false);\n\n    useEffect(() =>{\n    \n         const fetchProduct = async () =>{\n              const response = await api.get(`products/${id}`);\n              setProduct(response.data);\n         }\n         fetchProduct();\n\n         let storage = localStorage.getItem('@cart:user');\n\n         if (storage !== null) {\n           let cart = JSON.parse(storage);\n           const id_ = parseInt(id);\n           cart.map(item => parseInt(item.id) === id_? setAdded(true) : false);\n           \n         }\n         \n       \n    },[id]);\n\n    const addItemToCart = () => {\n\n    if (localStorage.getItem('@cart:user') === null) {\n      const products = [];\n      localStorage.setItem('@cart:user', JSON.stringify(products));\n    }\n\n    let rawCart = localStorage.getItem('@cart:user');\n    let cart = JSON.parse(rawCart);\n\n    if (added) return;\n   \n     const prod = {\n       id: id,\n       name: product.name,\n       description: product.description,\n       price: product.price,\n       observation: product.observation,\n       imageUri: product.imageUri,\n       quantity: quantity\n     }\n    cart.push(prod);\n    localStorage.setItem('@cart:user', JSON.stringify(cart));\n    setAdded(true);\n   }\n\n   const removeItemFromCart = () =>{\n     if(added){\n        let rawCart = localStorage.getItem('@cart:user');\n        let cart = JSON.parse(rawCart);\n        const id_ = parseInt(id);\n        cart = cart.filter(item => parseInt(item.id) !== id_);\n        localStorage.setItem('@cart:user', JSON.stringify(cart));\n        setAdded(false);\n     }\n   }\n\n\n  return (\n      <>\n      <Container>\n         <div className=\"view-size\">\n             <Row>\n               <Col md={2}/>\n                <Image className=\"image-zoom\" as={Col} src={product?.imageUri} height={250} width={400}/>\n                <Col xs={1}/>\n                <div className=\"purchase-card\">\n                    <Row>\n                        <Col xs={6}> {product?.name} </Col>\n                      </Row>  \n                    <Row>\n                        <Col xs={6}> <p className=\"badge badge-dark\">Price</p> </Col>         \n                        <Col xs={5}>\n                              <strong>  (BRL) $ \n                              {format(\"#,##0.00\", product?.price)}\n                             </strong>\n                              </Col> \n                    </Row>\n                     \n                     <Row>\n                       <Col xs={6}> {quantity} x { quantity * product?.price}</Col>  \n                       <Col xs={6}> \n                            <label id=\"quantity\" className=\"badge badge-dark\"> Quantity </label>\n                            <input for=\"quantity\" style={{width: '50%', marginLeft: 5}} type=\"number\" min=\"1\" value={quantity} onChange={e => setQuantity(e.target.value)}/>\n                           \n                        </Col>\n                     </Row>\n\n                     <Row>\n                       <Col xs={6}> Parcelas </Col>  \n                       <Col xs={6}> \n                       10 X {format(\"#,##0.00\", (quantity * product?.price)/ 10)}\n                                            \n                        </Col>\n                     </Row>\n                \n                     <Row style={{marginTop: 25}}>\n                       <Col xs={6}>  <Button variant={added? 'success': 'primary'} onClick={addItemToCart}> {added? 'Added to Cart' :'Add to Cart'} </Button> </Col>\n                       <Col xs={6}>  <Button variant={!added? 'info': 'danger'} hidden={!added} onClick={removeItemFromCart}> Remove from Cart </Button> </Col> \n                    </Row>\n                </div>\n\n             </Row>\n            \n             <Row>\n                 <Col><h3 className=\"badge badge-dark\"> Description </h3></Col>\n             </Row>\n             <Row style={{padding: 10}}>\n                 <Col>{product?.description}</Col>\n             </Row>\n\n             <Row>\n                 <Col><h3 className=\"badge badge-dark\"> Observation </h3></Col>\n             </Row>\n             <Row style={{padding: 10}}>\n                 <Col>{product?.observation}</Col>\n             </Row>\n\n         </div>\n      </Container>\n      </>\n  )\n\n}\n\nexport default ProductDetails;\n"]},"metadata":{},"sourceType":"module"}