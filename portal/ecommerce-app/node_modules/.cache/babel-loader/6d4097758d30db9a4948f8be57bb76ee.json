{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/SignIn/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useEffect } from 'react';\nimport { Form, Button, Col, Image, Container, Alert } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport logo from '../../_img/ms-icon-150x150.png';\nimport './styles.css';\nimport { useForm } from 'react-hook-form';\nimport api from '../../Services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst SignIn = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    register,\n    handleSubmit,\n    watch\n  } = useForm();\n  const password = useRef({});\n  password.current = watch(\"Password\", \"\");\n  useEffect(() => {\n    const validateToken = async () => {\n      let userLogged = localStorage.getItem(\"@ecommerce:user\");\n\n      if (userLogged === null) {\n        history.push('/signin');\n      } else {\n        let result = JSON.parse(userLogged);\n        console.log(result.user.id);\n        const response = await api.get(`users/${result.user.id}`);\n\n        if (response.status === 401) {\n          history.push('/signin');\n        }\n\n        if (response.status === 200) {\n          history.push('/dashboard');\n        }\n      }\n    };\n\n    validateToken();\n  }, [history]);\n\n  const submit = async data => {\n    const {\n      Email,\n      Password,\n      StayLogged\n    } = data;\n    const response = await api.post('auth', {\n      Email,\n      Password\n    });\n\n    if (response.status === 200) {\n      localStorage.removeItem('@ecommerce:user');\n\n      if (StayLogged) {\n        localStorage.setItem(\"@ecommerce:user\", JSON.stringify(response.data.result));\n      }\n\n      history.push('/dashboard');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit(submit),\n      children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          md: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          controlId: \"imageLogo\",\n          children: /*#__PURE__*/_jsxDEV(Image, {\n            as: Col,\n            className: \"img-fluid login-logo\",\n            src: logo,\n            roundedCircle: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          md: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"badge badge-dark\",\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            ...register(\"Email\", {\n              required: true,\n              maxlength: 45\n            }),\n            placeholder: \"Enter your e-mail\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-muted\",\n            children: \"We'll never share your email with anyone else.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"badge badge-dark\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            ...register(\"Password\", {\n              required: true,\n              minLength: 8,\n              maxLength: 16\n            }),\n            placeholder: \"Enter your password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-danger\",\n            children: [password.current.length < 8 ? 'the password required at least 8 characters' : '', password.current.length > 16 ? 'the password required maximum 16 characters' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"formBasicCheckbox\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n            type: \"checkbox\",\n            defaultChecked: false,\n            ...register(\"StayLogged\", {\n              required: false\n            }),\n            label: \"Stay logged\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Alert, {\n            as: Col,\n            variant: \"primary\",\n            children: [\"New here? create your account now\", /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/signup\",\n              children: \" Sign up \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, 1, true, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          as: Col,\n          controlId: \"buttonSubmit\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            type: \"submit\",\n            children: \"Logon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 22\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 3,\n          md: 3\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SignIn, \"hvUob4N75CwtHW0IuxSl2S/o76Y=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = SignIn;\nexport default SignIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/SignIn/index.js"],"names":["React","useRef","useEffect","Form","Button","Col","Image","Container","Alert","Link","useHistory","logo","useForm","api","SignIn","history","register","handleSubmit","watch","password","current","validateToken","userLogged","localStorage","getItem","push","result","JSON","parse","console","log","user","id","response","get","status","submit","data","Email","Password","StayLogged","post","removeItem","setItem","stringify","required","maxlength","minLength","maxLength","length"],"mappings":"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","sourcesContent":["import React,{useRef, useEffect} from 'react';\nimport { Form, Button, Col, Image, Container, Alert } from 'react-bootstrap';\nimport { Link, useHistory } from 'react-router-dom';\nimport logo from '../../_img/ms-icon-150x150.png';\nimport './styles.css';\nimport  {useForm}  from 'react-hook-form';\nimport api from '../../Services/api';\n\nconst SignIn = () => {\n\n    const history = useHistory();\n    const { register, handleSubmit, watch} = useForm();\n     const password = useRef({});\n     password.current = watch(\"Password\", \"\");\n    \n    useEffect(()=>{\n    \n         const validateToken = async () =>{\n\n            let userLogged = localStorage.getItem(\"@ecommerce:user\");\n\n            if(userLogged === null)\n            {\n               history.push('/signin');   \n            }else{\n                let result = JSON.parse(userLogged);\n                console.log(result.user.id);\n                const response = await api.get(`users/${result.user.id}`);\n\n                if(response.status === 401){\n                    history.push('/signin');\n                }\n                if(response.status === 200){\n                    history.push('/dashboard');\n                }\n            }\n         }\n      validateToken();\n         \n    },[history]);\n    \n\n    const submit = async data => {\n        \n         const {Email, Password, StayLogged} = data;\n      \n         const response = await api.post('auth',{\n             Email, Password\n         });\n          \n         if(response.status === 200){\n              localStorage.removeItem('@ecommerce:user');\n              if(StayLogged){\n                  localStorage.setItem(\"@ecommerce:user\", JSON.stringify(response.data.result));\n              }\n                history.push('/dashboard');\n         }   \n    }\n    \n    \n    return (\n\n        <Container fluid>\n\n            <Form onSubmit={handleSubmit(submit)}>\n                <Form.Row>\n                    <Col sm={5} md={5} />\n                    <Form.Group controlId=\"imageLogo\">\n                        <Image as={Col} className=\"img-fluid login-logo\" src={logo} roundedCircle />\n                    </Form.Group>\n                    <Col sm={5} md={5} />\n                </Form.Row>\n\n                <Form.Row>\n                    <Col sm={3} md={3} />\n                    <Form.Group as={Col} controlId=\"formBasicEmail\">\n                        <Form.Label className=\"badge badge-dark\">Email address</Form.Label>\n                        <Form.Control type=\"email\"\n                            {...register(\"Email\",\n                                { required: true,\n                                 maxlength: 45 })}\n                            placeholder=\"Enter your e-mail\" />\n                        <Form.Text className=\"text-muted\">\n                            We'll never share your email with anyone else.\n                        </Form.Text>\n                    </Form.Group>\n                    <Col sm={3} md={3} />\n                </Form.Row>\n\n                <Form.Row>\n                    <Col sm={3} md={3} />\n                    <Form.Group as={Col} controlId=\"formBasicPassword\">\n                        <Form.Label className=\"badge badge-dark\">Password</Form.Label>\n                        <Form.Control type=\"password\"\n                            {...register(\"Password\",\n                                { required: true ,\n                                 minLength: 8 ,\n                                 maxLength: 16  \n                                }\n                                )}\n                            placeholder=\"Enter your password\" />\n\n                        <Form.Text className=\"text-danger\">\n                          {password.current.length < 8? 'the password required at least 8 characters': ''}\n                          {password.current.length > 16? 'the password required maximum 16 characters': ''} \n                        </Form.Text>\n                    </Form.Group>\n                \n                    <Col sm={3} md={3} />\n                </Form.Row>\n\n    \n                <Form.Row>\n                    <Col sm={3} md={3} />\n                    <Form.Group as={Col} controlId=\"formBasicCheckbox\">\n                        <Form.Check type=\"checkbox\" \n                            defaultChecked={false}\n                          {...register(\"StayLogged\", {required: false})}\n\n                        label=\"Stay logged\" />\n                        <Alert as={Col} key={1} variant=\"primary\">\n                            New here? create your account now\n                            <Link to=\"/signup\"> Sign up </Link>\n                        </Alert>\n                    </Form.Group>\n                    <Col sm={3} md={3} />\n                </Form.Row>\n\n                <Form.Row>\n                <Col sm={3} md={3} />\n                     <Form.Group as={Col} controlId=\"buttonSubmit\">\n                        <Button  variant=\"primary\" type=\"submit\">\n                            Logon\n                        </Button>\n                    </Form.Group>\n                    <Col sm={3} md={3} />\n                </Form.Row>\n\n            </Form>\n\n        </Container>\n    );\n}\n\nexport default SignIn;"]},"metadata":{},"sourceType":"module"}