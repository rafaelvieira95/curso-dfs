{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/Cart/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Row, Col, Button } from 'react-bootstrap';\nimport format from 'number-format.js';\nimport CartItem from '../CartItem/index';\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Cart = () => {\n  _s();\n\n  const [cart, setCart] = useState([]);\n  const [subTotal, setSubTotal] = useState(0.0);\n  const history = useHistory();\n\n  const handleCheckout = () => history.push('/purchases/checkout');\n\n  const refreshCart = () => {\n    var storage = localStorage.getItem('@cart:user');\n\n    if (storage !== null) {\n      let parse = JSON.parse(storage);\n      let subtotal = 0.0;\n      parse.forEach(item => subtotal = subtotal + item.quantity * item.price);\n      setSubTotal(subtotal);\n      setCart(parse);\n    }\n  };\n\n  useEffect(() => {\n    var storage = localStorage.getItem('@cart:user');\n\n    if (storage !== null) {\n      let parse = JSON.parse(storage);\n      setCart(parse);\n      let subtotal = 0.0;\n      parse.forEach(item => subtotal = subtotal + item.quantity * item.price);\n      setSubTotal(subtotal);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [cart && cart.map((item, i) => /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyleType: 'none'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: refreshCart,\n        children: /*#__PURE__*/_jsxDEV(CartItem, {\n          cart: cart,\n          id: item.id,\n          name: item.name,\n          imageUri: item.imageUri,\n          description: item.description,\n          price: item.price,\n          quantity: item.quantity\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 27\n      }, this)\n    }, i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 45\n    }, this)), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        marginTop: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 6,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \" Subtotal (BRL) $ \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 32\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 28\n        }, this), \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        xs: 6,\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [\" \", format(\"#,##0.00\", subTotal), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 28\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      style: {\n        marginTop: 10\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        xs: 6,\n        children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => handleCheckout(),\n          children: \" Checkout \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 16\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 14\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Cart, \"zo9O2lV+5Pho8lbfWlzYsJyWUSU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Cart;\nexport default Cart;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Components/Cart/index.js"],"names":["React","useEffect","useState","Row","Col","Button","format","CartItem","useHistory","Cart","cart","setCart","subTotal","setSubTotal","history","handleCheckout","push","refreshCart","storage","localStorage","getItem","parse","JSON","subtotal","forEach","item","quantity","price","map","i","listStyleType","id","name","imageUri","description","marginTop"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Row, Col, Button} from 'react-bootstrap'; \nimport format from 'number-format.js';\nimport CartItem from '../CartItem/index';\nimport { useHistory } from 'react-router';\n\nconst Cart= () =>{\n            \n      const [cart, setCart] = useState([]);\n      const [subTotal, setSubTotal] = useState(0.0);\n      const history = useHistory();\n\n      const handleCheckout = () => history.push('/purchases/checkout');\n\n      const refreshCart = () =>{\n\n        var storage = localStorage.getItem('@cart:user');\n          if(storage !== null){\n               let parse = JSON.parse(storage);  \n               let subtotal = 0.0;      \n               parse.forEach(item => subtotal = subtotal + (item.quantity * item.price))\n               setSubTotal(subtotal);  \n               setCart(parse);  \n           \n          }  \n      }\n\n      useEffect(() => {\n\n        var storage = localStorage.getItem('@cart:user');\n          if(storage !== null){\n               let parse = JSON.parse(storage);      \n               setCart(parse);  \n               let subtotal = 0.0;      \n               parse.forEach(item => subtotal = subtotal + (item.quantity * item.price))\n               setSubTotal(subtotal);\n          }  \n      }, []);  \n     \n\n    return(\n        <>   \n            {\n              cart && cart.map((item,i) =>( <ul key={i} style={{listStyleType: 'none'}}>\n                          <li onClick={refreshCart} >\n                            <CartItem key={i} \n                                cart={cart}\n                                id={item.id}\n                                name={item.name} \n                                imageUri={item.imageUri}\n                                description={item.description}\n                                price={item.price}\n                                quantity={item.quantity}/>\n                                \n                          </li>\n              </ul> )\n              \n              )\n            }\n\n            <Row style={{ marginTop: 10 }}>\n              <Col xs={6}> <h4><strong> Subtotal (BRL) $ </strong></h4> </Col>\n              <Col xs={6}> <strong> {format(\"#,##0.00\", subTotal)} </strong></Col>\n            </Row>\n\n             <Row style={{ marginTop: 10 }}>\n               <Col xs={6}> <Button onClick={() => handleCheckout()}> Checkout </Button></Col>\n             </Row>\n\n        </>\n  \n    )\n}\n\nexport default Cart;"]},"metadata":{},"sourceType":"module"}