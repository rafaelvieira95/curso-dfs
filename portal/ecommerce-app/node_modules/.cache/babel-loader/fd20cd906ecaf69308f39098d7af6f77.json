{"ast":null,"code":"var _jsxFileName = \"/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/Admin/Product/List/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Table, Button, Container } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport api from '../../../../Services/api';\nimport format from 'number-format.js';\nimport './styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ProductList = () => {\n  _s();\n\n  const [products, setProducts] = useState([]);\n  const [isDelete, setIsDelete] = useState(false);\n  useEffect(() => {\n    const fecthProducts = async () => {\n      const response = await api.get('products');\n      setProducts(response.data);\n    };\n\n    fecthProducts();\n  }, []);\n\n  const handleDelete = async product => {\n    setIsDelete(window.confirm(\"Do you really want delete this product?\"));\n\n    if (isDelete) {\n      const response = await api.delete(`products/${product.id}`);\n\n      if (response.status === 200) {\n        setProducts(products.filter(p => p !== product));\n      }\n    }\n\n    setIsDelete(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      className: \"table-box\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        responsive: true,\n        hover: true,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Product Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Price $ (BRL)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: products && products.map(product => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: format(\"#,##0.00\", product.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: `/product/edit/${product.id}`,\n                children: \" edit \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 24\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => handleDelete(product),\n                children: \" delete \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 24\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 19\n            }, this)]\n          }, product.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 8\n    }, this)\n  }, void 0, false);\n};\n\n_s(ProductList, \"1GG5sQ1uPnYoIvuY12KfmsY0qrs=\");\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"sources":["/Users/rafaellimavieira/Documents/curso/curso-dfs/portal/ecommerce-app/src/Pages/Admin/Product/List/index.js"],"names":["React","useEffect","useState","Table","Button","Container","Link","api","format","ProductList","products","setProducts","isDelete","setIsDelete","fecthProducts","response","get","data","handleDelete","product","window","confirm","delete","id","status","filter","p","map","name","price"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Table, Button, Container} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport api from '../../../../Services/api';\nimport format from 'number-format.js';\n\nimport './styles.css';\n\nconst ProductList = () => {\n\n      const [products, setProducts] = useState([]);\n    \n      const [isDelete, setIsDelete] = useState(false);\n\n      useEffect(() =>{\n         \n        const fecthProducts = async () =>{\n            const response = await api.get('products');\n            setProducts(response.data);\n        }\n\n        fecthProducts();\n\n      }, []);\n\n      const handleDelete = async (product) =>{ \n\n           setIsDelete(window.confirm(\"Do you really want delete this product?\"));\n           \n           if(isDelete){\n\n           const response = await api.delete(`products/${product.id}`);\n             \n           if(response.status === 200){\n                    setProducts(products.filter(p => p !== product));\n               }       \n            }\n            setIsDelete(false);         \n      }\n\n    \n      return (\n       <>\n       <Container className=\"table-box\">\n           \n        <Table responsive hover>\n            <thead>\n                <tr>\n                    <th>Product Name</th>\n                    <th>Price $ (BRL)</th>\n                    <th>Edit</th>\n                    <th>Delete</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                { products && products.map(product =>(\n                <tr key={product.id}>\n                  <td>{product.name}</td>\n                  <td>{format(\"#,##0.00\",product.price)}</td>\n                  <td> <Link to={`/product/edit/${product.id}`}> edit </Link> </td>\n                  <td> <Button onClick={() => handleDelete(product)}> delete </Button> </td>\n                </tr>\n                ))}\n            </tbody>\n           </Table>\n           </Container>\n       \n       </>);\n}\nexport default ProductList;"]},"metadata":{},"sourceType":"module"}